<div>
    <h2>Votre profil</h2>

    <form [formGroup]="updateProfileForm" (ngSubmit)="onSubmit()">
        <fieldset class="name-fieldset">
            <div class="name-fieldset__lastname-box">
                <div class="labels">
                    <label for="posted-lastname">Nom</label>
                </div>
                <div class="inputs">
                    <input type="Text" id="posted-lastName" formControlName="postedLastName" value="{{this.user.lastname}}"/>
                </div>
            </div>
            <div class="name-fieldset__firstname-box">
                <div class="labels">
                    <label for="posted-firstName">Prénom</label>
                </div>
                <div class="inputs">
                    <input type="Text" id="posted-firstName" formControlName="postedFirstName" value="{{this.user.firstname}}"/>
                </div>
            </div>
        </fieldset>
        <fieldset class="password-update">
            <div class="password-update__actual-password">
                <div class="labels">
                    <label for="posted-currentPassword">Mot de passe actuel</label>
                </div>
                <div class="inputs">
                    <input type="text" id="posted-currentPassword" formControlName="postedCurrentPassword">
                </div>
            </div>
            <div class="password-update__new-password1">
                <div class="labels">
                    <label for="posted-newPassword1">Entrez le nouveau mot de passe</label>
                </div>
                <div class="inputs">
                    <input type="text" id="posted-newPassword1" formControlName="postedNewPassword1">
                </div>
            </div>
            <div class="password-update__new-password2">
                <div class="labels">
                    <label for="posted-newPassword2">Confirmez le nouveau mot de passe</label>
                </div>
                <div class="inputs">
                    <input type="text" id="posted-newPassword2" formControlName="postedNewPassword2">
                </div>
            </div>
        </fieldset>
        <fieldset class="avatar-fieldset">
            <label for="avatarInput">Avatar</label><br/>
            <div class="avatar-viewer">
                <img class="avatar-image" src="http://localhost:3000/images/avatars/{{this.user.avatarUrl}}">
            </div>
            <input 
                type="file"
                id="avatarInput"
                enctype="multipart/form-data"
                formControlName="avatarInput"
                (change)="avatarHandler($event)"
                #avatarInput
            />
            <img class="image-adding__thumb" src="../../assets/images/boutons/replace.png" alt="ajouter une image" title="ajouter une image" (click)="avatarInput.click()" />
        </fieldset>
        <fieldset class="bio-fieldset">
            <h3>À propos de vous :</h3>
            <textarea class="bio-input" formControlName="bioInput">
                
            </textarea>
        </fieldset>
        
        <!--
            <button type="submit" [disabled]="!updateProfileForm.valid">submit</button>
        -->
        <div class="profile-editor__submit" (click)="onSubmit()" >
            <div>
                <img src="../../assets/images/boutons/send.png" alt="confirmer l'édition" title="confirmer l'édition" />
            </div>
            <div>
                <span>envoyer</span>
            </div>
        </div>

        <div>
            <span (click)="deleteAccount()">Supprimer le compte</span>
        </div>
        
        <div class="profile-updater__post-list">
            <app-single-post *ngFor="let post of this.user.posts" [post]="post" [user]="this.user"></app-single-post>
        </div>
    </form>
</div>


